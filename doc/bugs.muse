#title Bugs/Changes

* Bugs
** Unresolved Bugs
Saving new simulation variables :: Upon saving, Xpose asks if new
         variables should always be added to the corresponding table.
         Unfortunately, this choice is not saved.

Improper Shrinkage Calculation :: Includes =ETA= values that are zero
    when calculating shrinkage.  Most of the time this is inconsequential.

** Resolved Bugs
** 0.13
DATE=DROP :: When DATE=DROP, and "dropping input aliases that interfere with
             NONMEM's output is enabled," this would change to DATE.  Fixed this
             to remain DATE=DROP. (Also used with DAT1, DAT2, and DAT3).
** 0.12
Multiple records per line :: According to NONMEM's user guide, there may be
                             multiple records per line.  This has been
                             added in.

Xpose R script generating -Inf errors :: Fixed log-plot issues with -Inf.

Extended variables mismatch :: When replacing an extended variable label that is the
                               same as a variable defined in one of the model
                               blocks (=$PK=, =$PRED=, etc.) and that variable is
                               defined on the same line as the model block, EsN
                               did not know that this variable was off limit for
                               substitution later.  This has been fixed.

*** 0.11
80 Character problems :: When enabling the display 80 characters **and then
  disabling it**, the 80 character highlighting remains and cannot be edited.
  Fixed in Version 0.11.

Occasional slash problems :: When files contained a period than slash, these
  slashes were changed to backward slashes occasionally in windows. Fixed in
  Version 0.11 (Due to updating file-names).

Prompting for version control when saving :: When version control is disabled
  and a new user attempts to edit the control stream, esn tries to place the
  control stream in version control. *This bug was due to menu mis-labeling*.  The
  menu has been labeled and changed according to the functions needed.  There is
  "Automatically place model under version control" and "Automatically generate
  a description for the version control."  Previously these had the same labels
  and were in different locations. This is fixed in Verison 0.11

Not detecting the correct estimation method :: When the estimation method is at
                                               the end of the =$EST= record, EsN
                                               did not calculate the correct
                                               estimation method.  Now the
                                               correct estimation has been
                                               calculated.

Not detecting certain variables :: EsN did not detect variables that are defined
  on the same line as the =$ERROR=, =$PK= and =$PRED= statements.  This has been
  resolved.

* Changes
** 0.13
 - Completely rewritten tab-completion routines.  Now you have an option about
   which completion back-end to use.  I prefer auto-complete-mode.
 - Completely rewritten font-lock routines, and symbol (pretty-print) routines. 
   Now the pretty-print routines work under windows.
 - Added support for Xmind map files.
 - Added context sensitive NONMEM help (requires NONMEM help files to be
   specified) 
 - Made context sensitive tool-bars and menus. 
 - Removed dependence on Ghostscript
 - Changed saving of extra files to be idle-timers so that saves take less time.
 - Changed local links to be an idle timer so that movement is not so slow.
 - Added todochiku integration to allow messages that are sent to growl, snarl,
   and libnotify.
 - Added buttons to open PLT tools output files -- bootstrapping and PDF files.
 - Added button to switch to NONMEM output file.
 - Various things to speed up editing NONMEM code.
** 0.12
 - Changed header code to support 5 different styles of headers: (1)
   PLT tools header, (2) PDx pop header, (3) Pirana, (4) Census style
   headers, and (5) anything else.
 - Added better error handling by using lisp =save-restriction= more often.
 - Added new behavior for backspace and delete in the editable region of the
   comments.
 - Added a magic =*= key that will start a list in an editable region of the
   header.
 - Changed delete and backspace to be advised functions to conform with any
   key-binding changes that the user wishes.
 - Allowed =THETA=, =ETA=, and =EPS= to be renumbered with the explicit
   comment =THETA(1) - Comment=
 - Allowed extended control streams to ignore =THETA=, =ETA=, =EPS=, etc
   statements before variable label.
 - Changed the automatic generation of the PLT graphics script to only occur
   when:
   - There is no graphics script associated with that file.
   - If there is a graphics script, that graphics script was last generated by
     Emacs Speaks NONMEM (should have =EsN= in the comment)
 - Added [[links][hyperlinks]] to control streams
 - Added renumbering of =A_0=.
 - Added Icons to launch or run files in NMQual, PDx pop, Census, etc.

** 0.11
 - Changed emacs to recognize NONMEM files when opend as files that start with a
   =$PROBLEM= statement (regardless of the extension).  In text files (like files
   ending with =.txt=), or with files that Emacs does not recognize, when typing
   =$PRO= at the beginning of the control stream, Emacs will then recognize the
   file as a control stream.  Note that the =.txt= extension collides with outputs
   in NONMEM 7 unless the =$ESTIMATION= step specifies a different output.
 - Changed Emacs Speaks NONMEM to autoload (only loads when a control stream is
   openend or recognized), speeding up initial Emacs load.
 - Changed Key binding menu (windows keys, emacs keys, etc.) to be a
   different file that is no longer loaded by default.
 - Added more files to version control.  These are names that are output
   by default in NONMEM 7.  Assuming a base file name of =root=, these files are:
   - =root.txt=
   - =root.cov=
   - =root.coi=
   - =root.cor=
   - =root.phi=
 - Added the new Fortran 95 operators (supported by NONMEM 7)
 - Added =.res= as a default NONMEM output file
 - Allow input to be 50 data items per record (supported by NONMEM 7)
 - Added warning highlighting if output variables are over the maximum
   specified.
 - Added highlighting (in warning face) of continuation =&= of Fortran95 that may
   be used with NONMEM 7.
 - Added different types of PRED/WRES/RES output in NONMEM 7
 - Added =ADVAN13= the new =LSODA= differential equation solver for NONMEM 7.
 - Added =SIGL= step size to =$EST= for NONMEM 7.
 - Added iterative two-stage methods (ITS), Monte-Carlo Importance Sampling
   (IMP), Monte-Carlo Importance Sampling EM assisted by Mode a Posteriori/MAP
   estimation (IMPMAP), Stochastic Approximation Expectation Maximization Method
   (SAEM), and Full Markov Chain Monte Carlo/MCMC Bayesian Analysis Method
   (BAYES) which are included in NONMEM 7.
 - Added extended control stream support of =MU= variables.
 - Moved the NONMEM assumed version to two places on the menu tree.
 - Added support for PLT tools.

** To Do
 - Automatic checks/generation for mu-variables.
 - Automatic checks/Generation of GRD for Bayes IMP/IMPMAP/SAEM errors to speed
   up calculation.
 - Automatic output of estimation files. (FO would be control-fo-01.txt,
   control-fo-02.txt, BAYES would be control-bayes-01.txt, etc. )
 -

